<% if people.present? %>
  <table class="table table-striped">
    <thead>
      <tr>
        <td>#</td>
        <td>Name</td>
        <td>Email</td>
        <% if user_signed_in? %>
            <td></td>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% people.each_with_index do |user, serial| %>
        <tr>
          <td><%= serial + 1 %></td>
          <td><%= user.name %></td>
          <td><%= user.email %></td>
          <% if user_signed_in? %>
            <td>
              <% if @friendships.map(&:friend_id).include?(user.id) %>
                <%= link_to 'Remove this Friend', user_friendship_path(current_user.id, @friendships.select { |f| f.friend_id == user.id }.first.id), data: { confirm: 'Are you sure?' }, method: :delete, class: 'label label-danger' %>
              <% else %>
                <%= link_to 'Send Friend Request', user_friendships_path(user.id), method: :post, class: 'label label-success' %>
              <% end %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <div class="alert alert-danger">
    There no people on our site yet :(.
  </div>
<% end %>
